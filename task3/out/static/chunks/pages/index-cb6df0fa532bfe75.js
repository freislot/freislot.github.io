(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{7276:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(7031)}])},7031:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>d});var s=a(4848),n=a(6540),r=a(1468),l=a(8750);function d(){let e=(0,r.wA)(),t=(0,r.d4)(e=>e.documents.documents),[a,d]=(0,n.useState)(""),[i,c]=(0,n.useState)(""),[o,u]=(0,n.useState)(null);(0,n.useEffect)(()=>{let t=JSON.parse(localStorage.getItem("documents"));t&&t.length&&e((0,l.FT)(t))},[e]),(0,n.useEffect)(()=>{localStorage.setItem("documents",JSON.stringify(t))},[t]);let m=(t,a)=>{let s=t.dataTransfer.getData("id");e((0,l.$V)({id:s,newStatus:a})),u(null)},h=(e,t,a,s)=>{e.dataTransfer.setData("id",t),e.dataTransfer.setData("index",a),e.dataTransfer.setData("status",s)},g=(t,a,s)=>{let n=parseInt(t.dataTransfer.getData("index"),10);n!==a&&e((0,l.ty)({sourceIndex:n,destinationIndex:a,status:s}))},v=t=>{e((0,l.sR)(t))},f=t.filter(e=>e.title.toLowerCase().includes(i.toLowerCase())),p=(e,t)=>{u(t)},x=e=>{e.currentTarget.contains(e.relatedTarget)||u(null)};return(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"addAndSearch",children:[(0,s.jsxs)("div",{className:"input",children:[(0,s.jsx)("input",{id:"filter",type:"text",placeholder:"Название документа",value:i,onChange:e=>c(e.target.value)}),(0,s.jsx)("label",{htmlFor:"filter",children:"Поиск документов по названию"})]}),(0,s.jsxs)("div",{className:"input",children:[(0,s.jsx)("input",{id:"addDoc",type:"text",placeholder:"Название документа",value:a,onChange:e=>d(e.target.value)}),(0,s.jsx)("label",{htmlFor:"addDoc",children:"Добавить новый документ"})]}),(0,s.jsx)("button",{onClick:()=>{if(a){let s={id:Date.now().toString(),title:a,status:"in-progress",order:t.filter(e=>"in-progress"===e.status).length};e((0,l.tI)(s)),d("")}},children:"Добавить"})]}),(0,s.jsx)("div",{className:"board",children:[{title:"В работе",name:"in-progress"},{title:"На тестировании",name:"under-review"},{title:"Готово",name:"completed"}].map(e=>(0,s.jsxs)("div",{onDragOver:e=>e.preventDefault(),onDrop:t=>m(t,e.name),onDragEnter:t=>p(t,e.name),onDragLeave:x,className:"status-col ".concat(e.name," ").concat(o===e.name&&"active"),children:[(0,s.jsx)("div",{className:"status-col-title",children:e.title}),(0,s.jsx)("div",{style:{flex:1},children:f.filter(t=>t.status===e.name).sort((e,t)=>e.order-t.order).map((t,a)=>(0,s.jsxs)("div",{draggable:!0,onDragStart:s=>h(s,t.id,a,e.name),onDragOver:e=>e.preventDefault(),onDrop:t=>g(t,a,e.name),className:"document",children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"doc-id",children:["ID-",t.id]}),(0,s.jsx)("div",{className:"doc-name",children:t.title})]}),(0,s.jsx)("button",{onClick:()=>v(t.id),children:"Удалить"})]},t.id))})]},e.name))})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[636,593,792],()=>t(7276)),_N_E=e.O()}]);